[general]
ui               = BlinkenLights
pythonfile       = ~/.dotfiles/mail/imap-pass.py
accounts         = Gmail,BNL
maxsyncaccounts  = 3

[Account Gmail]
localrepository  = gmail-local
remoterepository = gmail-remote
autorefresh      = 10
quick            = 3
synclabels       = yes
labelsheader     = X-Keywords
postsynchook     = ~/.dotfiles/mail/tag-new-messages.sh

[Repository gmail-remote]
type             = Gmail
remoteuser       = sencerselcuk@gmail.com
remotepasseval   = get_pass('gmail-app')
sslcacertfile    = /etc/ssl/certs/ca-certificates.crt
nametrans        = lambda folder: folder.replace("[Gmail]/", "").replace(" ", "")
sync_deletes = yes
synclabels = yes
realdelete=yes

[Repository gmail-local]
type             = GmailMaildir
localfolders     = ~/.mail/gmail/
nametrans        = lambda folder: ("[Gmail]/"+folder if folder in ["SentMail", "AllMail", "Starred", "Drafts", "Trash"] else folder).replace("Mail", " Mail")

[Account BNL]
localrepository  = bnl-local
remoterepository = bnl-remote
autorefresh      = 1
quick            = 3

[Repository bnl-remote]
type             = IMAP
remotehost       = outlook.office365.com
remoteuser       = sselcuk@bnl.gov
remotepasseval   = get_pass('bnl')
sslcacertfile    = /etc/ssl/certs/ca-certificates.crt
folderfilter     = lambda folder: not any(folder.startswith(i) for i in ['Conversation', 'Hiri', 'Calendar', 'Journal', 'Contacts'])
nametrans        = lambda folder: folder.replace(" ", "")

[Repository bnl-local]
type             = Maildir
localfolders     = ~/.mail/bnl/
nametrans        = lambda folder: folder.replace("Item", " Item").replace("Email", " Email")

[mbnames]
enabled          = no
filename         = ~/muttrc.mailboxes
header           = "mailboxes "
peritem          = "+%(accountname)s/%(foldername)s"
sep              = " "
footer           = "\n"

# vi: ft=config
